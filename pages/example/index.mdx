<div className="prose">

# React

## React的特点

-  声明式编码
-  组件化编码
-  RN 编写原生应用
-  高效

## React高效的原因

1.使用虚拟DOM，不直接操作真实DOM
2.DOM Diffing算法，最小化页面重绘

## &#x20;React 相关库

1.  react.js 核心库
2.  react-dom.js 操作DOM的react扩展库
3.  babel.min.js 解析JSX语法代码转为JS代码的库

## 创建虚拟DOM

```typescript
const VDOM = React.createElement('xx', {id:''},'xx')
```

## JSX

1.  全称 Javascript XML
2.  JS + XML
3.  React.createElement(components, props, ...children)方法的语法糖
4.  用来简化创建虚拟DOM
5.  它不是字符串，也不是html/xml标签，最终产生的是一个js对象
6.  `&lt;`开头以标签语法解析
7.  {}开头以JS语法解析
8.  浏览器不能直接解析JSX代码，需要babel转义
9.  渲染虚拟DOM，ReactDOM.render(vDOM, containerDOM)
10. 绑定class使用className&#x20;
11. 正常写泛型语法会跟tsx语法冲突，它会把泛型理解成一个元素，解决方法后面加逗号
12. const cli = \<T,>\<params: T) => dd()

## 面向组件编程

1.  React Developer Tools
2.  组件render方法中的this为组件实例对象
3.  bind绑定this，或者箭头函数
4.  组件三大核心，state，props，refs
5.  状态数据，不能直接修改或者更新
6.  组件标签的所有属性都保存在props中
7.  onXxx属性指定事件处理函数
8.  组件有一系列生命周期
9.  重要勾子，render 初始化渲染
10. componentDidMount 开始阶段，发送ajax
11. componentWillUnmount： 收尾阶段
12. DOM Diffing 算法
13. 使用dangerousSetInnerHTML来渲染html代码片段
14. {}插值语句中不允许编写 switch if 变量声明 或者直接放入对象本体

```typescript
const flag: boolean = false
return (
   <>
       {
           arr.map(item => {
               return <div>{item}</div>
           })
       }
       {
           flag ? <div>真</div> : <div>假</div>
       }
)

```

## react哲学

1.  将ui拆解为组件层级结构
2.  单一功能原理，一个组件理想中应仅做一件事情
3.  JSON结构好，可以轻松映射到UI中的组件结构
4.  单向数据流，数据从树的顶层组件传递到下面的组件中
5.  组织state最重要的一条原则是保持它DRY，不要自我重复
6.  将所有state都视为可读的
7.  不要直接修改一个state，而是要给他创造一个新版本
8.  Reducer帮助合并组建的状态更新逻辑
9.  Context帮助将信息深入传递给其他组件

## Babel

1.  语法转换： 将新版本js转换为旧版本
2.  Polifill： 引入额外代码，使新功能在旧浏览器中可用
3.  JSX： 将JSX语法转换成普通的js语法
4.  插件：为Babel提供自定义功能


```js
// 
npm install --save-dev @babel/core @babel/cli @babel/preset-env

//
npm install @babel/preset-react -D

//
astexplorer.net
```

## SWC Speedy Web Compiler

1.  天然支持ts
2.  天然支持jsx
3.  速度是babel的几十倍
4.  既可以用于编译，又可以打包，可以将多个模块捆绑成一个文件
5.  使用Rust，是一种编译型语言，在编译时将代码转化为机器码（底层的CPU指令）。机器码在执行时非常高效，几乎没有额外的开销
6.  JS是一种解释型语言，通常在浏览器和Nodejs环境中通过解释器运行。尽管现代的JS引擎（如V8）使用了JIT（即时编译）技术来提高性能，但解释型语言本质上还是需要更多的运行时开销。
7.  SWC支持代码压缩和优化功能，类似于Terser。可以压缩js代码，去除不要的空格注释等，优化后减少体积，提高加载速度。
8.  SWC支持React和Jsx语法，可以将JSX转换为标准js代码，支持现代的React特性。
9.


```js
npm i -g @swc/cli @swc/core
```

## 虚拟DOM， Fiber， Diff

1.  vDOM用js对象描述DOM结构以优化性能和实现跨平台

</div>